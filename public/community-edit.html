<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" href="./images/favicon/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/svg+xml" href="./images/favicon/favicon.svg"/>
    <link rel="shortcut icon" href="./images/favicon/favicon.ico"/>
    <link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-touch-icon.png"/>
    <link rel="manifest" href="./images/favicon/site.webmanifest"/>

    <meta property="og:type" content="website">
    <meta property="og:title" content="PetTalk - 반려생활, 같이 고민해요">
    <meta property="og:description" content="믿을 수 있는 훈련사 매칭, 반려동물 상담, 다양한 후기까지! 반려생활의 모든 고민을 펫톡에서 해결하세요.">
    <meta property="og:image" content="./images/logo_large.png">
    <meta property="og:url" content="https://pet-talk.onrender.com/">
    <meta property="og:site_name" content="PetTalk">

    <title>PetTalk - 글 수정</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Common CSS -->
    <link rel="stylesheet" href="/stylesheets/common.css">
    <!-- Community CSS -->
    <link rel="stylesheet" href="/stylesheets/community-write.css">
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg bg-white">
    <div class="container position-relative">
        <a class="navbar-brand" href="/">
            <img src="./images/logo.png" alt="PetTalk Logo" height="50"/>
        </a>
        <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse navbar-menu" id="navbarNav">
            <ul class="navbar-nav ms-auto navbar-items">
                <li class="nav-item">
                    <a class="nav-link nav-item-link" href="/trainers">훈련사</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-item-link" href="/community">커뮤니티</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-item-link" href="/profile">내 프로필</a>
                </li>
                <li class="nav-item">
                    <a class="btn btn-warning rounded-pill login-btn" href="#" id="loginBtn"
                       style="display: none">로그인</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main Content -->
<main class="container mt-4">
    <section class="write-section">
        <div class="row justify-content-center mb-4">
            <div class="col-12">
                <!-- 페이지 제목 -->
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="fw-bold mb-0">게시글 수정하기</h2>
                    <a href="#" class="back-btn btn btn-outline-secondary rounded-pill">
                        <i class="fa-solid fa-arrow-left me-1"></i> 게시글로 돌아가기
                    </a>
                </div>

                <input type="hidden" id="postId" value="">

                <!-- Community Category -->
                <div class="mb-3">
                    <label class="form-label">게시판 카테고리<span class="required">*</span></label>
                    <div class="category-container">
                        <div class="btn-group category-buttons" role="group" aria-label="게시판 카테고리 선택">
                            <input type="radio" class="btn-check" name="communityCategory" id="categoryFree"
                                   value="자유게시판" autocomplete="off">
                            <label class="btn btn-outline-category" for="categoryFree">
                                <i class="fa-solid fa-comments me-2"></i>자유게시판
                            </label>

                            <input type="radio" class="btn-check" name="communityCategory" id="categoryReview"
                                   value="펫 도구 후기" autocomplete="off">
                            <label class="btn btn-outline-category" for="categoryReview">
                                <i class="fa-solid fa-star me-2"></i>펫 도구 후기
                            </label>

                            <input type="radio" class="btn-check" name="communityCategory" id="categoryQuestion"
                                   value="질문하기" autocomplete="off">
                            <label class="btn btn-outline-category" for="categoryQuestion">
                                <i class="fa-solid fa-question-circle me-2"></i>질문하기
                            </label>

                            <input type="radio" class="btn-check" name="communityCategory" id="categoryBrag"
                                   value="자랑하기" autocomplete="off">
                            <label class="btn btn-outline-category" for="categoryBrag">
                                <i class="fa-solid fa-crown me-2"></i>자랑하기
                            </label>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">펫 카테고리<span class="required">*</span></label>
                    <div class="pet-category-container">
                        <div class="btn-group pet-category-buttons" role="group" aria-label="펫 카테고리 선택">
                            <input type="radio" class="btn-check" name="petCategory" id="petCategoryDog" value="강아지"
                                   autocomplete="off">
                            <label class="btn btn-outline-pet" for="petCategoryDog">
                                <i class="fa-solid fa-dog me-2"></i>강아지
                            </label>

                            <input type="radio" class="btn-check" name="petCategory" id="petCategoryCat" value="고양이"
                                   autocomplete="off">
                            <label class="btn btn-outline-pet" for="petCategoryCat">
                                <i class="fa-solid fa-cat me-2"></i>고양이
                            </label>

                            <input type="radio" class="btn-check" name="petCategory" id="petCategoryOther" value="기타"
                                   autocomplete="off">
                            <label class="btn btn-outline-pet" for="petCategoryOther">
                                <i class="fa-solid fa-paw me-2"></i>기타
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Title Input -->
                <div class="mb-3">
                    <label for="postTitle" class="form-label">제목<span class="required">*</span></label>
                    <input type="text" class="form-control" id="postTitle" placeholder="제목을 입력해주세요.">
                </div>

                <!-- Content Textarea -->
                <div class="mb-4">
                    <label for="postContent" class="form-label">내용<span class="required">*</span></label>
                    <textarea class="form-control" id="postContent" rows="10" placeholder="글 내용을 입력해주세요."></textarea>
                </div>

                <!-- Tags Input -->
                <div class="mb-4">
                    <label for="postTags" class="form-label">태그 입력</label>
                    <button type="button" id="tagSuggestionBtn" class="btn btn-custom btn-tag-suggestion">
                        <i class="fa fa-magic me-1"></i> AI 추천
                    </button>
                    <div><br></div>
                    <input type="text" class="form-control" id="postTags" placeholder="예: 강아지, 도구 후기, 펫테리어 (쉼표로 구분)">
                    <div id="tagSuggestionContainer" class="tag-suggestion-container" style="display: none;">
                        <div class="tag-suggestion-loading" style="display: none;">
                            <div class="spinner-border spinner-border-sm text-primary" role="status">
                                <span class="visually-hidden">로딩중...</span>
                            </div>
                            <span class="ms-2">태그 분석 중...</span>
                        </div>
                        <div class="tag-suggestion-results"></div>
                    </div>
                </div>

                <!-- 새로운 사진 업로드 영역 -->
                <div class="mb-4">
                    <label class="form-label">새로운 사진 업로드</label>
                    <div class="upload-container">
                        <div class="upload-title">
                            <i class="fa fa-image"></i> 사진 첨부
                        </div>
                        <div class="d-flex flex-wrap align-items-start">
                            <button type="button" id="photoUploadBtn" class="btn btn-custom btn-photo-upload">
                                <i class="fa fa-plus"></i> 사진 추가
                            </button>
                            <span class="upload-info">최대 10개, 각 10MB 이하</span>
                        </div>
                        <div class="preview-area photo-preview-area"></div>
                        <input type="file" id="photoUploadInput" accept="image/*" multiple style="display: none;">
                    </div>
                </div>

                <!-- 새로운 동영상 업로드 영역 -->
                <div class="mb-4">
                    <label class="form-label">새로운 동영상 업로드</label>
                    <div class="upload-container">
                        <div class="upload-title">
                            <i class="fa fa-video"></i> 동영상 첨부
                        </div>
                        <div class="d-flex flex-wrap align-items-start">
                            <button type="button" id="videoUploadBtn" class="btn btn-custom btn-video-upload">
                                <i class="fa fa-plus"></i> 동영상 추가
                            </button>
                            <span class="upload-info">최대 1개, 50MB 이하</span>
                        </div>
                        <div class="preview-area video-preview-area"></div>
                        <input type="file" id="videoUploadInput" accept="video/*" style="display: none;">
                    </div>
                </div>

                <div class="text-center mt-4 mb-5">
                    <button type="button" id="cancelBtn" class="btn btn-outline-secondary me-2">
                        <i class="fa fa-times"></i> 취소하기
                    </button>
                    <button type="button" id="updatePostBtn" class="btn btn-custom btn-submit-post">
                        <i class="fa fa-check"></i> 수정완료
                    </button>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="bg-dark text-white py-5 mt-5">
    <div class="container">
        <div class="row justify-content-center text-center">
            <!-- 회사 정보 -->
            <div class="col-md-4 mb-4">
                <h5 class="fw-bold mb-3">㈜ 펫톡</h5>
                <p class="mb-1">서울특별시 강아지구 고양이동 냥냥냥로 2층</p>
                <p class="mb-1">사업자등록번호: 123-45-67890</p>
                <p class="mb-1">대표: Lucky0111</p>
                <p class="mb-0">문의: example@naver.com / 070-1111-2222</p>
            </div>

            <!-- 고객센터 -->
            <div class="col-md-4 mb-4">
                <h5 class="fw-bold mb-3">고객센터</h5>
                <p class="mb-1">📞 전화 상담: 070-1111-2222</p>
                <p class="mb-1">💬 카카오톡: @펫톡상담</p>
                <p class="mb-1">⏰ 운영시간: 평일 11:00 - 18:00</p>
                <p class="mb-0">🍽 점심시간: 13:00 - 14:00</p>
            </div>

            <!-- 펫톡 소개 -->
            <div class="col-md-4 mb-4">
                <h5 class="fw-bold mb-3">펫톡 소개</h5>
                <p class="mb-1">반려인을 위한 훈련사 매칭 플랫폼</p>
                <p class="mb-1">신뢰할 수 있는 전문가 연결, 간편한 상담</p>
                <p class="mb-0">함께 더 나은 반려 생활을 만들어요 🐾</p>
            </div>
        </div>

        <hr class="my-4 border-light">

        <div class="text-center small">
            <p class="mb-0">© 2025 PetTalk Inc. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- 확인 모달 -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">확인</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="confirmMessage">
                정말 이 작업을 수행하시겠습니까?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                <button type="button" class="btn btn-primary" id="confirmActionBtn">확인</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
<!-- Custom JS -->
<script src="/javascripts/common.js"></script>
<script src="/javascripts/community-edit.js"></script>
</body>
</html>